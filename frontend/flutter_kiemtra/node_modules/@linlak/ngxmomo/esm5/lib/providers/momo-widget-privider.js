/**
 * @fileoverview added by tsickle
 * Generated from: lib/providers/momo-widget-privider.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { BaseMomoProvider } from '../entities/base-momo-provider';
import { MomoProviderClass } from '../entities/momo-provider';
var MomoWidgetProvider = /** @class */ (function (_super) {
    tslib_1.__extends(MomoWidgetProvider, _super);
    function MomoWidgetProvider(config) {
        var _this = _super.call(this) || this;
        _this.TYPE = 'mtnmomowidget';
        _this.momoProviderObj = new MomoProviderClass();
        _this.momoConfig = config;
        _this.momoProviderObj.name = 'mtnmomowidget';
        _this.momoProviderObj.url = config.url || 'https://widget.northeurope.cloudapp.azure.com:9443/v0.1.0/mobile-money-widget-mtn.js';
        return _this;
    }
    /**
     * @param {?} eventCallback
     * @return {?}
     */
    MomoWidgetProvider.prototype.initialize = /**
     * @param {?} eventCallback
     * @return {?}
     */
    function (eventCallback) {
        var _this = this;
        return new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        function (resolve, reject) {
            _this.loadScript(_this.momoProviderObj, (/**
             * @return {?}
             */
            function () {
                _this.eventCallback = eventCallback;
                window.addEventListener('mobile-money-qr-payment-created', (/**
                 * @param {?} e
                 * @return {?}
                 */
                function (e) { return _this.notify(e); }));
                window.addEventListener('mobile-money-qr-payment-canceled', (/**
                 * @param {?} e
                 * @return {?}
                 */
                function (e) { return _this.notify(e); }));
                window.addEventListener('mobile-money-qr-payment-successful', (/**
                 * @param {?} e
                 * @return {?}
                 */
                function (e) { return _this.notify(e); }));
                window.addEventListener('mobile-money-qr-payment-failed', (/**
                 * @param {?} e
                 * @return {?}
                 */
                function (e) { return _this.notify(e); }));
                mobileMoneyReinitializeWidgets();
                resolve();
            }));
        }));
    };
    /**
     * @return {?}
     */
    MomoWidgetProvider.prototype.getApiUser = /**
     * @return {?}
     */
    function () {
        return this.momoConfig.apiUserId;
    };
    /**
     * @return {?}
     */
    MomoWidgetProvider.prototype.getCurrency = /**
     * @return {?}
     */
    function () {
        return this.momoConfig.currency;
    };
    MomoWidgetProvider.PROVIDER_TYPE = 'mtnmomowidget';
    return MomoWidgetProvider;
}(BaseMomoProvider));
export { MomoWidgetProvider };
if (false) {
    /** @type {?} */
    MomoWidgetProvider.PROVIDER_TYPE;
    /** @type {?} */
    MomoWidgetProvider.prototype.TYPE;
    /**
     * @type {?}
     * @private
     */
    MomoWidgetProvider.prototype.momoConfig;
    /** @type {?} */
    MomoWidgetProvider.prototype.momoProviderObj;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9tby13aWRnZXQtcHJpdmlkZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AbGlubGFrL25neG1vbW8vIiwic291cmNlcyI6WyJsaWIvcHJvdmlkZXJzL21vbW8td2lkZ2V0LXByaXZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQ2xFLE9BQU8sRUFBRSxpQkFBaUIsRUFBaUIsTUFBTSwyQkFBMkIsQ0FBQztBQUs3RTtJQUF3Qyw4Q0FBZ0I7SUFPcEQsNEJBQVksTUFBcUI7UUFBakMsWUFDSSxpQkFBTyxTQUlWO1FBVk0sVUFBSSxHQUFHLGVBQWUsQ0FBQztRQUd2QixxQkFBZSxHQUFzQixJQUFJLGlCQUFpQixFQUFFLENBQUM7UUFJaEUsS0FBSSxDQUFDLFVBQVUsR0FBSSxNQUFNLENBQUM7UUFDMUIsS0FBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDO1FBQzVDLEtBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHLElBQUksc0ZBQXNGLENBQUM7O0lBQ3BJLENBQUM7Ozs7O0lBRU0sdUNBQVU7Ozs7SUFBakIsVUFBa0IsYUFBa0I7UUFBcEMsaUJBY0M7UUFaRyxPQUFPLElBQUksT0FBTzs7Ozs7UUFBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQy9CLEtBQUksQ0FBQyxVQUFVLENBQUMsS0FBSSxDQUFDLGVBQWU7OztZQUFFO2dCQUNsQyxLQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztnQkFDbkMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGlDQUFpQzs7OztnQkFBRSxVQUFDLENBQWMsSUFBSyxPQUFBLEtBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQWQsQ0FBYyxFQUFDLENBQUM7Z0JBQy9GLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxrQ0FBa0M7Ozs7Z0JBQUUsVUFBQyxDQUFjLElBQUssT0FBQSxLQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFkLENBQWMsRUFBQyxDQUFDO2dCQUNoRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsb0NBQW9DOzs7O2dCQUFFLFVBQUMsQ0FBYyxJQUFLLE9BQUEsS0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBZCxDQUFjLEVBQUMsQ0FBQztnQkFDbEcsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGdDQUFnQzs7OztnQkFBRSxVQUFDLENBQWMsSUFBSyxPQUFBLEtBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQyxDQUFDLEVBQWYsQ0FBZSxFQUFDLENBQUM7Z0JBRS9GLDhCQUE4QixFQUFFLENBQUM7Z0JBQ2pDLE9BQU8sRUFBRSxDQUFDO1lBQ2QsQ0FBQyxFQUFDLENBQUM7UUFDUCxDQUFDLEVBQUMsQ0FBQztJQUNQLENBQUM7Ozs7SUFFTyx1Q0FBVTs7O0lBQWpCO1FBQ0EsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQztJQUNuQyxDQUFDOzs7O0lBQ00sd0NBQVc7OztJQUFsQjtRQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7SUFDbEMsQ0FBQztJQWxDdUIsZ0NBQWEsR0FBRyxlQUFlLENBQUM7SUFtQzNELHlCQUFDO0NBQUEsQUFwQ0QsQ0FBd0MsZ0JBQWdCLEdBb0N2RDtTQXBDWSxrQkFBa0I7OztJQUMzQixpQ0FBdUQ7O0lBQ3ZELGtDQUE4Qjs7Ozs7SUFDOUIsd0NBQWtDOztJQUVsQyw2Q0FBb0UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTW9tb1Byb3ZpZGVyIH0gZnJvbSAnLi4vZW50aXRpZXMvYmFzZS1tb21vLXByb3ZpZGVyJztcclxuaW1wb3J0IHsgTW9tb1Byb3ZpZGVyQ2xhc3MsIE10bk1vbW9Db25maWcgfSBmcm9tICcuLi9lbnRpdGllcy9tb21vLXByb3ZpZGVyJztcclxuaW1wb3J0IHsgTW9tb0V2ZW50TWFpbiB9IGZyb20gJy4uL2RhdGEnO1xyXG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuXHJcbmRlY2xhcmUgbGV0IG1vYmlsZU1vbmV5UmVpbml0aWFsaXplV2lkZ2V0czogYW55O1xyXG5leHBvcnQgY2xhc3MgTW9tb1dpZGdldFByb3ZpZGVyIGV4dGVuZHMgQmFzZU1vbW9Qcm92aWRlciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX1RZUEUgPSAnbXRubW9tb3dpZGdldCc7XHJcbiAgICBwdWJsaWMgVFlQRSA9ICdtdG5tb21vd2lkZ2V0JztcclxuICAgIHByaXZhdGUgbW9tb0NvbmZpZzogTXRuTW9tb0NvbmZpZztcclxuXHJcbiAgICBwdWJsaWMgbW9tb1Byb3ZpZGVyT2JqOiBNb21vUHJvdmlkZXJDbGFzcyA9IG5ldyBNb21vUHJvdmlkZXJDbGFzcygpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogTXRuTW9tb0NvbmZpZykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5tb21vQ29uZmlnID0gIGNvbmZpZztcclxuICAgICAgICB0aGlzLm1vbW9Qcm92aWRlck9iai5uYW1lID0gJ210bm1vbW93aWRnZXQnO1xyXG4gICAgICAgIHRoaXMubW9tb1Byb3ZpZGVyT2JqLnVybCA9IGNvbmZpZy51cmwgfHwgJ2h0dHBzOi8vd2lkZ2V0Lm5vcnRoZXVyb3BlLmNsb3VkYXBwLmF6dXJlLmNvbTo5NDQzL3YwLjEuMC9tb2JpbGUtbW9uZXktd2lkZ2V0LW10bi5qcyc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXRpYWxpemUoZXZlbnRDYWxsYmFjazogYW55KTogUHJvbWlzZTxhbnk+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NyaXB0KHRoaXMubW9tb1Byb3ZpZGVyT2JqLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50Q2FsbGJhY2sgPSBldmVudENhbGxiYWNrO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vYmlsZS1tb25leS1xci1wYXltZW50LWNyZWF0ZWQnLCAoZTogQ3VzdG9tRXZlbnQpID0+IHRoaXMubm90aWZ5KGUpKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb2JpbGUtbW9uZXktcXItcGF5bWVudC1jYW5jZWxlZCcsIChlOiBDdXN0b21FdmVudCkgPT4gdGhpcy5ub3RpZnkoZSkpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vYmlsZS1tb25leS1xci1wYXltZW50LXN1Y2Nlc3NmdWwnLCAoZTogQ3VzdG9tRXZlbnQpID0+IHRoaXMubm90aWZ5KGUpKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb2JpbGUtbW9uZXktcXItcGF5bWVudC1mYWlsZWQnLCAoZTogQ3VzdG9tRXZlbnQpID0+IHRoaXMubm90aWZ5KCBlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbW9iaWxlTW9uZXlSZWluaXRpYWxpemVXaWRnZXRzKCk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICBwdWJsaWMgZ2V0QXBpVXNlcigpOiBzdHJpbmcge1xyXG4gICAgIHJldHVybiB0aGlzLm1vbW9Db25maWcuYXBpVXNlcklkO1xyXG4gICB9XHJcbiAgIHB1YmxpYyBnZXRDdXJyZW5jeSgpOiBzdHJpbmcge1xyXG4gICAgIHJldHVybiB0aGlzLm1vbW9Db25maWcuY3VycmVuY3k7XHJcbiAgIH1cclxufVxyXG4iXX0=