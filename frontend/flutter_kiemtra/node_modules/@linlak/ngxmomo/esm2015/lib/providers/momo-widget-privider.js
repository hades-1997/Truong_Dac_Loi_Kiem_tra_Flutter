/**
 * @fileoverview added by tsickle
 * Generated from: lib/providers/momo-widget-privider.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { BaseMomoProvider } from '../entities/base-momo-provider';
import { MomoProviderClass } from '../entities/momo-provider';
export class MomoWidgetProvider extends BaseMomoProvider {
    /**
     * @param {?} config
     */
    constructor(config) {
        super();
        this.TYPE = 'mtnmomowidget';
        this.momoProviderObj = new MomoProviderClass();
        this.momoConfig = config;
        this.momoProviderObj.name = 'mtnmomowidget';
        this.momoProviderObj.url = config.url || 'https://widget.northeurope.cloudapp.azure.com:9443/v0.1.0/mobile-money-widget-mtn.js';
    }
    /**
     * @param {?} eventCallback
     * @return {?}
     */
    initialize(eventCallback) {
        return new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        (resolve, reject) => {
            this.loadScript(this.momoProviderObj, (/**
             * @return {?}
             */
            () => {
                this.eventCallback = eventCallback;
                window.addEventListener('mobile-money-qr-payment-created', (/**
                 * @param {?} e
                 * @return {?}
                 */
                (e) => this.notify(e)));
                window.addEventListener('mobile-money-qr-payment-canceled', (/**
                 * @param {?} e
                 * @return {?}
                 */
                (e) => this.notify(e)));
                window.addEventListener('mobile-money-qr-payment-successful', (/**
                 * @param {?} e
                 * @return {?}
                 */
                (e) => this.notify(e)));
                window.addEventListener('mobile-money-qr-payment-failed', (/**
                 * @param {?} e
                 * @return {?}
                 */
                (e) => this.notify(e)));
                mobileMoneyReinitializeWidgets();
                resolve();
            }));
        }));
    }
    /**
     * @return {?}
     */
    getApiUser() {
        return this.momoConfig.apiUserId;
    }
    /**
     * @return {?}
     */
    getCurrency() {
        return this.momoConfig.currency;
    }
}
MomoWidgetProvider.PROVIDER_TYPE = 'mtnmomowidget';
if (false) {
    /** @type {?} */
    MomoWidgetProvider.PROVIDER_TYPE;
    /** @type {?} */
    MomoWidgetProvider.prototype.TYPE;
    /**
     * @type {?}
     * @private
     */
    MomoWidgetProvider.prototype.momoConfig;
    /** @type {?} */
    MomoWidgetProvider.prototype.momoProviderObj;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9tby13aWRnZXQtcHJpdmlkZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AbGlubGFrL25neG1vbW8vIiwic291cmNlcyI6WyJsaWIvcHJvdmlkZXJzL21vbW8td2lkZ2V0LXByaXZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDbEUsT0FBTyxFQUFFLGlCQUFpQixFQUFpQixNQUFNLDJCQUEyQixDQUFDO0FBSzdFLE1BQU0sT0FBTyxrQkFBbUIsU0FBUSxnQkFBZ0I7Ozs7SUFPcEQsWUFBWSxNQUFxQjtRQUM3QixLQUFLLEVBQUUsQ0FBQztRQU5MLFNBQUksR0FBRyxlQUFlLENBQUM7UUFHdkIsb0JBQWUsR0FBc0IsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO1FBSWhFLElBQUksQ0FBQyxVQUFVLEdBQUksTUFBTSxDQUFDO1FBQzFCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxHQUFHLGVBQWUsQ0FBQztRQUM1QyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLHNGQUFzRixDQUFDO0lBQ3BJLENBQUM7Ozs7O0lBRU0sVUFBVSxDQUFDLGFBQWtCO1FBRWhDLE9BQU8sSUFBSSxPQUFPOzs7OztRQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1lBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGVBQWU7OztZQUFFLEdBQUcsRUFBRTtnQkFDdkMsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7Z0JBQ25DLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxpQ0FBaUM7Ozs7Z0JBQUUsQ0FBQyxDQUFjLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQztnQkFDL0YsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGtDQUFrQzs7OztnQkFBRSxDQUFDLENBQWMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDO2dCQUNoRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsb0NBQW9DOzs7O2dCQUFFLENBQUMsQ0FBYyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUM7Z0JBQ2xHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxnQ0FBZ0M7Ozs7Z0JBQUUsQ0FBQyxDQUFjLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQztnQkFFL0YsOEJBQThCLEVBQUUsQ0FBQztnQkFDakMsT0FBTyxFQUFFLENBQUM7WUFDZCxDQUFDLEVBQUMsQ0FBQztRQUNQLENBQUMsRUFBQyxDQUFDO0lBQ1AsQ0FBQzs7OztJQUVPLFVBQVU7UUFDakIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQztJQUNuQyxDQUFDOzs7O0lBQ00sV0FBVztRQUNoQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO0lBQ2xDLENBQUM7O0FBbEN1QixnQ0FBYSxHQUFHLGVBQWUsQ0FBQzs7O0lBQXZELGlDQUF1RDs7SUFDdkQsa0NBQThCOzs7OztJQUM5Qix3Q0FBa0M7O0lBRWxDLDZDQUFvRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VNb21vUHJvdmlkZXIgfSBmcm9tICcuLi9lbnRpdGllcy9iYXNlLW1vbW8tcHJvdmlkZXInO1xyXG5pbXBvcnQgeyBNb21vUHJvdmlkZXJDbGFzcywgTXRuTW9tb0NvbmZpZyB9IGZyb20gJy4uL2VudGl0aWVzL21vbW8tcHJvdmlkZXInO1xyXG5pbXBvcnQgeyBNb21vRXZlbnRNYWluIH0gZnJvbSAnLi4vZGF0YSc7XHJcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5cclxuZGVjbGFyZSBsZXQgbW9iaWxlTW9uZXlSZWluaXRpYWxpemVXaWRnZXRzOiBhbnk7XHJcbmV4cG9ydCBjbGFzcyBNb21vV2lkZ2V0UHJvdmlkZXIgZXh0ZW5kcyBCYXNlTW9tb1Byb3ZpZGVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfVFlQRSA9ICdtdG5tb21vd2lkZ2V0JztcclxuICAgIHB1YmxpYyBUWVBFID0gJ210bm1vbW93aWRnZXQnO1xyXG4gICAgcHJpdmF0ZSBtb21vQ29uZmlnOiBNdG5Nb21vQ29uZmlnO1xyXG5cclxuICAgIHB1YmxpYyBtb21vUHJvdmlkZXJPYmo6IE1vbW9Qcm92aWRlckNsYXNzID0gbmV3IE1vbW9Qcm92aWRlckNsYXNzKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBNdG5Nb21vQ29uZmlnKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm1vbW9Db25maWcgPSAgY29uZmlnO1xyXG4gICAgICAgIHRoaXMubW9tb1Byb3ZpZGVyT2JqLm5hbWUgPSAnbXRubW9tb3dpZGdldCc7XHJcbiAgICAgICAgdGhpcy5tb21vUHJvdmlkZXJPYmoudXJsID0gY29uZmlnLnVybCB8fCAnaHR0cHM6Ly93aWRnZXQubm9ydGhldXJvcGUuY2xvdWRhcHAuYXp1cmUuY29tOjk0NDMvdjAuMS4wL21vYmlsZS1tb25leS13aWRnZXQtbXRuLmpzJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShldmVudENhbGxiYWNrOiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY3JpcHQodGhpcy5tb21vUHJvdmlkZXJPYmosICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRDYWxsYmFjayA9IGV2ZW50Q2FsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW9iaWxlLW1vbmV5LXFyLXBheW1lbnQtY3JlYXRlZCcsIChlOiBDdXN0b21FdmVudCkgPT4gdGhpcy5ub3RpZnkoZSkpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vYmlsZS1tb25leS1xci1wYXltZW50LWNhbmNlbGVkJywgKGU6IEN1c3RvbUV2ZW50KSA9PiB0aGlzLm5vdGlmeShlKSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW9iaWxlLW1vbmV5LXFyLXBheW1lbnQtc3VjY2Vzc2Z1bCcsIChlOiBDdXN0b21FdmVudCkgPT4gdGhpcy5ub3RpZnkoZSkpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vYmlsZS1tb25leS1xci1wYXltZW50LWZhaWxlZCcsIChlOiBDdXN0b21FdmVudCkgPT4gdGhpcy5ub3RpZnkoIGUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb2JpbGVNb25leVJlaW5pdGlhbGl6ZVdpZGdldHMoKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgIHB1YmxpYyBnZXRBcGlVc2VyKCk6IHN0cmluZyB7XHJcbiAgICAgcmV0dXJuIHRoaXMubW9tb0NvbmZpZy5hcGlVc2VySWQ7XHJcbiAgIH1cclxuICAgcHVibGljIGdldEN1cnJlbmN5KCk6IHN0cmluZyB7XHJcbiAgICAgcmV0dXJuIHRoaXMubW9tb0NvbmZpZy5jdXJyZW5jeTtcclxuICAgfVxyXG59XHJcbiJdfQ==